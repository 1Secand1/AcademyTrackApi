name: academytrack-api
services:
  - name: app
    type: docker-compose
    path: .
    env:
      - DATABASE_URL
      - NODE_ENV
      - JWT_SECRET
      - JWT_EXPIRATION
      - API_PREFIX
    healthcheck:
      path: /api/health
      interval: 30s
      timeout: 10s
      retries: 3
    resources:
      memory: 512M
      cpu: 0.5
    scaling:
      min: 1
      max: 3
      target_cpu: 70 